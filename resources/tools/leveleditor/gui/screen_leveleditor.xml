<?xml version="1.0" encoding="UTF-8"?>
<nifty>
	<!-- The style of a tab button that is not the activated one. -->
    <style id="nifty-tab-button">
        <attributes backgroundImage="tabs/tabs.png"
                    imageMode="sprite-resize:31,23,2,15,1,15,11,15,1,15,1,15,1,15,11" paddingLeft="11px"
                    paddingRight="11px" width="147px" height="23px" childLayout="center" visibleToMouse="true"/>
        <effect>
            <onHover name="imageOverlay" filename="tabs/tabs.png"
                     imageMode="sprite-resize:31,23,1,15,1,15,11,15,1,15,1,15,1,15,11" post="true"/>
        </effect>
    </style>
    <!-- The style of a tab button that is the activated one. -->
    <style id="nifty-tab-button-active">
        <attributes backgroundImage="tabs/tabs.png"
                    imageMode="sprite-resize:31,23,0,15,1,15,11,15,1,15,1,15,1,15,11" paddingLeft="11px"
                    paddingRight="11px" width="147px" height="23px" childLayout="center" visibleToMouse="true"/>
        <effect>
           <onHover name="imageOverlay" filename="tabs/tabs.png"
                    imageMode="sprite-resize:31,23,0,15,1,15,11,15,1,15,1,15,1,15,11" post="true"/>
            -->
        </effect>
    </style>
	<screen id="leveleditor" controller="net.drewke.tdme.tools.leveleditor.controller.LevelEditorScreenController">
		<layer id="layer_screen" childLayout="vertical">
			<panel style="nifty-panel" childLayout="horizontal" width="100%" height="60px" visibleToMouse="true" valign="center">
				<text id="screen_caption" color="#ff0000" text="Level Editor" font="aurulent-sans-16.fnt" height="30px" width="100%" textHAlign="center" />
			</panel>
			<panel childLayout="horizontal" width="100%" height="*" visibleToMouse="false">
				<panel style="nifty-panel" childLayout="vertical" width="200px" height="380px" visibleToMouse="true" valign="center" align="center">
            		<control id="objects_listbox" name="listBox" width="170px" displayItems="13" selectionMode="multiple" forceSelection="false" horizontal="off" vertical="on">
               		</control>
	   			    <panel height="*" />
				    <panel childLayout="horizontal" width="100%" height="30px" align="center" valign="center">
				        <panel width="*" />
				        <control id="button_objects_select" name="button" label="Select" height="30px" width="80px" align="center">
							<interact onClick="onObjectsSelect()" />
						</control>
				        <control id="button_objects_unselect" name="button" label="Unselect" height="30px" width="80px" align="center">
							<interact onClick="onObjectsUnselect()" />
						</control>
						<panel width="*" />
				    </panel>
               	</panel>
			    <panel width="*" />
				<panel style="nifty-panel" childLayout="vertical" width="200px" height="*" visibleToMouse="true" valign="center" align="right">
	   			    <control id="modelchoser_scrollbar" name="scrollPanel" height="*" vertical="true" horizontal="false">
	   			        <panel id="modelchoser" childLayout="vertical" width="200px" height="200px">
							<interact onClick="onListModelsClick()"/>
	   			    	</panel>
	   			    </control>
	   			    <panel height="5px" />
				    <panel childLayout="horizontal" width="100%" height="30px" align="center" valign="center">
				        <panel width="*" />
				        <control id="button_model_place" name="button" label="Place" height="30px" width="80px" align="center">
							<interact onClick="onPlaceModel()" />
						</control>
				        <control id="button_model_library" name="button" label="Library" height="30px" width="80px" align="center">
							<interact onClick="onLibrary()" />
						</control>
						<panel width="*" />
				    </panel>
				</panel>
			</panel>
		    <control id="tabs_properties" name="tabGroup" childLayout="vertical" width="100%" height="190px" visibleToMouse="true" buttonWidth="40px">
    		    <control id="tabs_properties_grid" name="tab" caption="Grid">
    		        <!-- y position; visible -->
    	            <panel childLayout="vertical" width="200px" height="90px" valign="center">
		                <panel childLayout="horizontal" height="30px">
							<text width="60px" color="#ffffff" text="Y position" font="aurulent-sans-16.fnt" textHAlign="right" valign="center" height="30px" />
							<panel width="15px" />
							<control width="125px" name="textfield" maxLength="255" id="grid_y_position" />
						</panel>
		                <panel childLayout="horizontal" height="30px">
							<text width="60px" color="#ffffff" text="Enabled" font="aurulent-sans-16.fnt" textHAlign="right" valign="center" height="30px" />
							<panel width="15px" />
							<panel width="125px" childLayout="horizontal">
								<control id="grid_enabled" name="checkbox" checked="true" valign="center" height="30px" />
								<panel width="*" />
							</panel>
						</panel>
						<panel height="5px" />
		                <panel childLayout="horizontal" height="30px">
							<panel width="*" />
		                    <panel childLayout="center">
					        	<control id="button_grid_apply" name="button" label="Apply" height="30px" width="80px" align="center">
									<interact onClick="onGridApply()" />
								</control>
							</panel>
						</panel>
    	            </panel>
				</control>
    		    <control id="tabs_properties_map" name="tab" caption="Map">
    		        <!-- height; width -->
	    	        <panel childLayout="horizontal" width="300px" height="100%" valign="center" align="center">
	    	            <panel childLayout="vertical" width="200px" height="90px" valign="center">
			                <panel childLayout="horizontal" height="30px">
								<text width="50px" color="#ffffff" text="Width" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="145px" name="textfield" maxLength="255" id="map_width" />
							</panel>
			                <panel childLayout="horizontal" height="30px">
								<text width="50px" color="#ffffff" text="Height" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="145px" name="textfield" maxLength="255" id="map_height" />
							</panel>
			                <panel childLayout="horizontal" height="30px">
								<text width="50px" color="#ffffff" text="Depth" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="145px" name="textfield" maxLength="255" id="map_depth" />
							</panel>
	    	            </panel>
	    	            <panel width="20px" />
	    	            <panel childLayout="vertical" width="80px" height="90px" valign="center">
				        	<control id="button_map_load" name="button" label="Load" height="30px" width="80px" align="center">
								<interact onClick="onMapLoad()" />
							</control>
							<panel height="5px" />
				        	<control id="button_map_save" name="button" label="Save" height="30px" width="80px" align="center">
								<interact onClick="onMapSave()" />
							</control>
							<panel height="*" />
	    	            </panel>
					</panel>
				</control>
    		    <control id="tabs_properties_map_properties" name="tab" caption="Map Properties">
	    	        <panel childLayout="horizontal" width="700px" height="100%" align="center" valign="center">
	    	            <panel childLayout="vertical" width="600px" height="100%" valign="center">
	    	            	<panel height="*" />
	    	            	<control id="mapproperties_listbox" name="listBox" width="600px" displayItems="4" selectionMode="single" forceSelection="false" horizontal="off" vertical="on">
    	                	</control>
    	                	<panel height="10px" />
			                <panel childLayout="horizontal" height="30px">
								<text width="45px"color="#ffffff" text="Name" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="240px"name="textfield" maxLength="255" id="map_property_name" />
								<panel width="20px" />
								<text width="45px"color="#ffffff" text="Value" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="240px"name="textfield" maxLength="255" id="map_property_value" />
							</panel>
							<panel height="*" />
    	                </panel>
   	    	            <panel width="20px" />
	    	            <panel childLayout="vertical" width="80px" height="100%">
	    	                <panel height="*" />
				        	<control id="button_map_properties_add" name="button" label="Add" height="30px" width="80px" align="center">
								<interact onClick="onMapPropertyAdd()" />
							</control>
							<panel height="5px" />
				        	<control id="button_map_properties_remove" name="button" label="Remove" height="30px" width="80px" align="center">
								<interact onClick="onMapPropertyRemove()" />
							</control>
							<panel height="5px" />
				        	<control id="button_map_properties_save" name="button" label="Save" height="30px" width="80px" align="center">
								<interact onClick="onMapPropertySave()" />
							</control>
   				        	<panel height="*" />
	    	            </panel>
					</panel>
				</control>
		        <control id="tabs_properties_object" name="tab" caption="Object" >
		            <panel childLayout="horizontal" width="630px" height="90px" valign="center">
		                <panel childLayout="vertical" width="300px" height="90px" valign="center">
			                <panel childLayout="horizontal" height="30px">
								<text color="#ffffff" text="Name" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
								<panel width="5px" />
								<control name="textfield" maxLength="255" id="object_name" />
							</panel>
							<panel childLayout="horizontal" height="30px">
								<text color="#ffffff" text="Description" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
								<panel width="5px" />
								<control name="textfield" maxLength="255" id="object_description" />
							</panel>
							<panel childLayout="horizontal" height="30px">
								<panel width="*" />            		
	    				        <control id="button_objectdata_apply" name="button" label="Apply" height="30px" width="60px">
									<interact onClick="onObjectDataApply()" />
								</control>
							</panel>
						</panel>
						<panel width="30px" />
		                <panel childLayout="vertical" width="300px" height="90px" valign="center">
			                <panel childLayout="horizontal" height="30px">
								<text color="#ffffff" text="Model" font="aurulent-sans-16.fnt" valign="center" width="60px" height="30px" textHAlign="left" />
								<panel width="5px" />
								<control name="textfield" maxLength="255" id="object_model" />
							</panel>
							<panel childLayout="horizontal" height="30px">
								<text color="#ffffff" text="Center" font="aurulent-sans-16.fnt" valign="center" width="60px" height="30px" textHAlign="left" />
								<panel width="5px" />
								<control name="textfield" maxLength="255" id="object_center" />
							</panel>
						</panel>
					</panel>
				</control>
    		    <control id="tabs_properties_object_transformations" name="tab" caption="Object Transformations">
	    	        <panel childLayout="horizontal" width="680px" height="100%" valign="center">
	    	            <panel childLayout="vertical" width="175px" height="100%">
	    	            	<panel height="*" />
		    	            <!-- translation x; translation y; translation z; -->
			                <panel childLayout="horizontal" height="30px">
								<text width="20px"color="#ffffff" text="X" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="150px"name="textfield" maxLength="255" id="object_translation_x" />
							</panel>
			                <panel childLayout="horizontal" height="30px">
								<text width="20px"color="#ffffff" text="Y" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="150px"name="textfield" maxLength="255" id="object_translation_y" />
							</panel>
			                <panel childLayout="horizontal" height="30px">
								<text width="20px"color="#ffffff" text="Z" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="150px"name="textfield" maxLength="255" id="object_translation_z" />
							</panel>
			                <panel childLayout="horizontal" height="30px">
			                    <panel childLayout="horizontal" height="30px">
			                        <panel width="*" />
						        	<control id="button_translation_apply" name="button" label="Translate" height="30px" width="80px" align="center">
										<interact onClick="onObjectTranslationApply()" />
									</control>
								</panel>
							</panel>
							<panel height="*" />
	    	            </panel>
	    	            <panel width="25px" />
	    	            <panel childLayout="vertical" width="175px" height="100%">
	    	            	<panel height="*" />
	    	                <!-- scale x; translation y; translation z; -->
			                <panel childLayout="horizontal" height="30px">
								<text width="20px"color="#ffffff" text="X" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="150px"name="textfield" maxLength="255" id="object_scale_x" />
							</panel>
			                <panel childLayout="horizontal" height="30px">
								<text width="20px"color="#ffffff" text="Y" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="150px"name="textfield" maxLength="255" id="object_scale_y" />
							</panel>
			                <panel childLayout="horizontal" height="30px">
								<text width="20px"color="#ffffff" text="Z" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="150px"name="textfield" maxLength="255" id="object_scale_z" />
							</panel>
			                <panel childLayout="horizontal" height="30px">
			                    <panel childLayout="horizontal" height="30px">
			                        <panel width="*" />
						        	<control id="button_scale_apply" name="button" label="Scale" height="30px" width="80px" align="center">
										<interact onClick="onObjectScaleApply()" />
									</control>
								</panel>
							</panel>
							<panel height="*" />
	    	            </panel>
	    	            <panel width="25px" />
	    	            <panel childLayout="vertical" width="175px" height="100%">
	    	            	<panel height="*" />
	    	                <!-- rotate x; translation y; translation z; -->
			                <panel childLayout="horizontal" height="30px">
								<text width="20px"color="#ffffff" text="X" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="150px"name="textfield" maxLength="255" id="object_rotation_x" />
							</panel>
			                <panel childLayout="horizontal" height="30px">
								<text width="20px"color="#ffffff" text="Y" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="150px"name="textfield" maxLength="255" id="object_rotation_y" />
							</panel>
			                <panel childLayout="horizontal" height="30px">
								<text width="20px"color="#ffffff" text="Z" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="150px"name="textfield" maxLength="255" id="object_rotation_z" />
							</panel>
			                <panel childLayout="horizontal" height="30px">
			                    <panel childLayout="horizontal">
			                        <panel width="*" />
						        	<control id="button_rotations_apply" name="button" label="Rotate" height="30px" width="80px" align="center">
										<interact onClick="onObjectRotationsApply()" />
									</control>
								</panel>
							</panel>
							<panel height="*" />
	    	            </panel>
	    	            <panel width="25px" />
	    	            <panel childLayout="vertical" width="80px" height="100%">
	    	                <panel height="*" />
				        	<control id="button_object_color" name="button" label="Color" height="30px" width="80px" align="center">
								<interact onClick="onObjectColor()" />
							</control>
							<panel height="5px" />
				        	<control id="button_object_center" name="button" label="Center" height="30px" width="80px" align="center">
								<interact onClick="onObjectCenter()" />
							</control>
							<panel height="5px" />
				        	<control id="button_object_remove" name="button" label="Remove" height="30px" width="80px" align="center">
								<interact onClick="onObjectRemove()" />
							</control>
				        	<panel height="*" />
	    	            </panel>
					</panel>
				</control>
				<control id="tabs_properties_object_properties" name="tab" caption="Object Properties">
	    	        <panel childLayout="horizontal" width="700px" height="100%" align="center" valign="center">
	    	            <panel childLayout="vertical" width="600px" height="100%" valign="center">
	    	            	<panel height="*" />
	    	                <panel childLayout="horizontal" height="30px">
	    	            		<control id="objectproperties_presets" name="dropDown" width="530px" displayItems="4" height="23px">
    	                		</control>
    	                		<panel width="10px" />
     				        	<control id="button_object_properties_presetapply" name="button" label="Apply" height="23px" width="60px">
									<interact onClick="onObjectPropertyPresetApply()" />
								</control>            		
    	                	</panel>
    	                	<panel height="10px" />
	    	            	<control id="objectproperties_listbox" name="listBox" width="600px" displayItems="2" selectionMode="single" forceSelection="false" horizontal="off" vertical="on">
    	                	</control>
    	                	<panel height="10px" />
			                <panel childLayout="horizontal" height="30px">
								<text width="45px"color="#ffffff" text="Name" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="240px"name="textfield" maxLength="255" id="object_property_name" />
								<panel width="20px" />
								<text width="45px"color="#ffffff" text="Value" font="aurulent-sans-16.fnt" valign="center" height="30px" />
								<panel width="5px" />
								<control width="240px"name="textfield" maxLength="255" id="object_property_value" />
							</panel>
							<panel height="*" />
    	                </panel>
   	    	            <panel width="20px" />
	    	            <panel childLayout="vertical" width="80px" height="100%">
	    	                <panel height="*" />
				        	<control id="button_object_properties_add" name="button" label="Add" height="30px" width="80px" align="center">
								<interact onClick="onObjectPropertyAdd()" />
							</control>
							<panel height="5px" />
				        	<control id="button_object_properties_remove" name="button" label="Remove" height="30px" width="80px" align="center">
								<interact onClick="onObjectPropertyRemove()" />
							</control>
							<panel height="5px" />
				        	<control id="button_object_properties_save" name="button" label="Save" height="30px" width="80px" align="center">
								<interact onClick="onObjectPropertySave()" />
							</control>
   				        	<panel height="*" />
	    	            </panel>
					</panel>
				</control>
				<control id="tabs_properties_lights" name="tab" caption="Lights">
					<control id="tabs_lights" name="tabGroup" childLayout="vertical" width="100%" height="100%" visibleToMouse="true" buttonWidth="40px">
    		    		<control id="tabs_properties_light0" name="tab" caption="Light 0" childLayout="center">
    		    			<control id="tabs_properties_light0_scrollpanel" name="scrollPanel" horizontal="false" height="100%">
    		    				<panel backgroundColor="#555" childLayout="horizontal" width="100%" height="340px" valign="center">
    		    				   	<panel width="*" />
			            	    	<panel childLayout="vertical" width="300px" height="100%" valign="center">
			            	    		<panel height="5px" />
			            	    		<control id="presets_light0" name="dropDown" width="300px" displayItems="4" height="23px">
    	                				</control>
			            	    		<panel height="20px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Ambient" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light0_ambient" />
										</panel>
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Specular" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light0_specular" />
										</panel>
										<panel height="10px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Const. attenuation" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light0_constant_attenuation" />
										</panel>
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Quad. attenuation" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light0_quadratic_attenuation" />
										</panel>
										<panel height="10px" />
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot from" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light0_position" />
										</panel>
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot direction" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light0_spot_direction" />
										</panel>
										<panel height="10px" />
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot cutoff" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light0_spot_cutoff" />
										</panel>
										<panel height="10px" />
										<panel childLayout="horizontal" height="30px">
											<panel width="*" />            		
		    						        <control id="button_light0_apply" name="button" label="Apply" height="30px" width="100px">
												<interact onClick="onLight0Apply()" />
											</control>
										</panel>
									</panel>
									<panel width="30px" />
			    		            <panel childLayout="vertical" width="300px" height="100%" valign="center">
			            	    		<panel height="5px" />
     				        			<control id="button_light0_presetapply" name="button" label="Apply" height="23px" width="60px">
											<interact onClick="onLight0PresetApply()" />
										</control>
			            	    		<panel height="20px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Diffuse" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light0_diffuse" />
										</panel>
										<panel height="40px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Lin. attenuation" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light0_linear_attenuation" />
										</panel>
										<panel height="40px" />
									  	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot to" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light0_spot_to" />
										</panel>
										<panel childLayout="horizontal" height="30px">
		    						        <control id="button_light0_spotdirection_compute" name="button" label="Compute spot direction" height="24px" width="140px">
												<interact onClick="onLight0SpotDirectionCompute()" />
											</control>
											<panel width="*" />
										</panel>
										<panel height="10px" />
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot exponent" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light0_spot_exponent" />
										</panel>
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Enabled" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="checkbox" checked="false" id="light0_enabled" valign="center" height="30px" />
										</panel>
									</panel>
									<panel width="*" />
								</panel>
							</control>
    		    		</control>
    		    		<control id="tabs_properties_light1" name="tab" caption="Light 1" childLayout="horizontal">
    		    			<control id="tabs_properties_light1_scrollpanel" name="scrollPanel" horizontal="false" height="100%">
    		    				<panel backgroundColor="#555" childLayout="horizontal" width="100%" height="340px" valign="center">
    		    				   	<panel width="*" />
			            	    	<panel childLayout="vertical" width="300px" height="100%" valign="center">
			            	    		<panel height="5px" />
			            	    		<control id="presets_light1" name="dropDown" width="300px" displayItems="4" height="23px">
    	                				</control>
			            	    		<panel height="20px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Ambient" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light1_ambient" />
										</panel>
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Specular" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light1_specular" />
										</panel>
										<panel height="10px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Const. attenuation" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light1_constant_attenuation" />
										</panel>
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Quad. attenuation" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light1_quadratic_attenuation" />
										</panel>
										<panel height="10px" />
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot from" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light1_position" />
										</panel>
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot direction" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light1_spot_direction" />
										</panel>
										<panel height="10px" />
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot cutoff" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light1_spot_cutoff" />
										</panel>
										<panel height="10px" />
										<panel childLayout="horizontal" height="30px">
											<panel width="*" />            		
		    						        <control id="button_light1_apply" name="button" label="Apply" height="30px" width="100px">
												<interact onClick="onLight1Apply()" />
											</control>
										</panel>
									</panel>
									<panel width="30px" />
			    		            <panel childLayout="vertical" width="300px" height="100%" valign="center">
			            	    		<panel height="5px" />
     				        			<control id="button_light1_presetapply" name="button" label="Apply" height="23px" width="60px">
											<interact onClick="onLight1PresetApply()" />
										</control>
			            	    		<panel height="20px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Diffuse" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light1_diffuse" />
										</panel>
										<panel height="40px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Lin. attenuation" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light1_linear_attenuation" />
										</panel>
										<panel height="40px" />
									  	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot to" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light1_spot_to" />
										</panel>
										<panel childLayout="horizontal" height="30px">
		    						        <control id="button_light1_spotdirection_compute" name="button" label="Compute spot direction" height="24px" width="140px">
												<interact onClick="onLight1SpotDirectionCompute()" />
											</control>
											<panel width="*" />
										</panel>
										<panel height="10px" />
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot exponent" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light1_spot_exponent" />
										</panel>
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Enabled" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="checkbox" checked="false" id="light1_enabled" valign="center" height="30px" />
										</panel>
									</panel>
									<panel width="*" />
								</panel>
							</control>
    		    		</control>
    		    		<control id="tabs_properties_light2" name="tab" caption="Light 2" childLayout="horizontal">
    		    			<control id="tabs_properties_light2_scrollpanel" name="scrollPanel" horizontal="false" height="100%">
    		    				<panel backgroundColor="#555" childLayout="horizontal" width="100%" height="340px" valign="center">
    		    				   	<panel width="*" />
			            	    	<panel childLayout="vertical" width="300px" height="100%" valign="center">
			            	    		<panel height="5px" />
			            	    		<control id="presets_light2" name="dropDown" width="300px" displayItems="4" height="23px">
    	                				</control>
			            	    		<panel height="20px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Ambient" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light2_ambient" />
										</panel>
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Specular" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light2_specular" />
										</panel>
										<panel height="10px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Const. attenuation" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light2_constant_attenuation" />
										</panel>
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Quad. attenuation" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light2_quadratic_attenuation" />
										</panel>
										<panel height="10px" />
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot from" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light2_position" />
										</panel>
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot direction" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light2_spot_direction" />
										</panel>
										<panel height="10px" />
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot cutoff" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light2_spot_cutoff" />
										</panel>
										<panel height="10px" />
										<panel childLayout="horizontal" height="30px">
											<panel width="*" />            		
		    						        <control id="button_light2_apply" name="button" label="Apply" height="30px" width="100px">
												<interact onClick="onLight2Apply()" />
											</control>
										</panel>
									</panel>
									<panel width="30px" />
			    		            <panel childLayout="vertical" width="300px" height="100%" valign="center">
			            	    		<panel height="5px" />
     				        			<control id="button_light2_presetapply" name="button" label="Apply" height="23px" width="60px">
											<interact onClick="onLight2PresetApply()" />
										</control>
			            	    		<panel height="20px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Diffuse" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light2_diffuse" />
										</panel>
										<panel height="40px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Lin. attenuation" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light2_linear_attenuation" />
										</panel>
										<panel height="40px" />
									  	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot to" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light2_spot_to" />
										</panel>
										<panel childLayout="horizontal" height="30px">
		    						        <control id="button_light2_spotdirection_compute" name="button" label="Compute spot direction" height="24px" width="140px">
												<interact onClick="onLight2SpotDirectionCompute()" />
											</control>
											<panel width="*" />
										</panel>
										<panel height="10px" />
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot exponent" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light2_spot_exponent" />
										</panel>
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Enabled" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="checkbox" checked="false" id="light2_enabled" valign="center" height="30px" />
										</panel>
									</panel>
									<panel width="*" />
								</panel>
							</control>
    		    		</control>
    		    		<control id="tabs_properties_light3" name="tab" caption="Light 3" childLayout="horizontal">
    		    			<control id="tabs_properties_light3_scrollpanel" name="scrollPanel" horizontal="false" height="100%">
    		    				<panel backgroundColor="#555" childLayout="horizontal" width="100%" height="340px" valign="center">
    		    				   	<panel width="*" />
			            	    	<panel childLayout="vertical" width="300px" height="100%" valign="center">
			            	    		<panel height="5px" />
			            	    		<control id="presets_light3" name="dropDown" width="300px" displayItems="4" height="23px">
    	                				</control>
			            	    		<panel height="20px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Ambient" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light3_ambient" />
										</panel>
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Specular" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light3_specular" />
										</panel>
										<panel height="10px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Const. attenuation" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light3_constant_attenuation" />
										</panel>
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Quad. attenuation" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light3_quadratic_attenuation" />
										</panel>
										<panel height="10px" />
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot from" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light3_position" />
										</panel>
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot direction" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light3_spot_direction" />
										</panel>
										<panel height="10px" />
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot cutoff" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light3_spot_cutoff" />
										</panel>
										<panel height="10px" />
										<panel childLayout="horizontal" height="30px">
											<panel width="*" />            		
		    						        <control id="button_light3_apply" name="button" label="Apply" height="30px" width="100px">
												<interact onClick="onLight3Apply()" />
											</control>
										</panel>
									</panel>
									<panel width="30px" />
			    		            <panel childLayout="vertical" width="300px" height="100%" valign="center">
			            	    		<panel height="5px" />
     				        			<control id="button_light3_presetapply" name="button" label="Apply" height="23px" width="60px">
											<interact onClick="onLight3PresetApply()" />
										</control>
			            	    		<panel height="20px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Diffuse" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light3_diffuse" />
										</panel>
										<panel height="40px" />
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Lin. attenuation" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light3_linear_attenuation" />
										</panel>
										<panel height="40px" />
									  	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot to" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light3_spot_to" />
										</panel>
										<panel childLayout="horizontal" height="30px">
		    						        <control id="button_light3_spotdirection_compute" name="button" label="Compute spot direction" height="24px" width="140px">
												<interact onClick="onLight3SpotDirectionCompute()" />
											</control>
											<panel width="*" />
										</panel>
										<panel height="10px" />
					                	<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Spot exponent" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="textfield" maxLength="255" id="light3_spot_exponent" />
										</panel>
										<panel childLayout="horizontal" height="30px">
											<text color="#ffffff" text="Enabled" font="aurulent-sans-16.fnt" valign="center" width="100px" height="30px" textHAlign="left" />
											<panel width="5px" />
											<control name="checkbox" checked="false" id="light3_enabled" valign="center" height="30px" />
										</panel>
									</panel>
									<panel width="*" />
								</panel>
							</control>
						</control>
					</control>
				</control>
			</control>
		</layer>
	</screen>
    <popup id="filedialog_popup" childLayout="center" backgroundColor="#0000">
    	<panel style="nifty-panel" childLayout="vertical" width="600px" height="380px" visibleToMouse="true"> 
	        <panel height="5px" />
       	    <text id="filedialog_popup_caption" color="#ff0000" text="Load" font="aurulent-sans-16.fnt" height="30px" width="100%" textHAlign="center" />
       	   	<panel height="5px" />
   	    	<control id="filedialog_popup_files" name="listBox" width="560px" height="240px" displayItems="10" selectionMode="Single" forceSelection="false" horizontal="off" vertical="on" />
   	    	<panel height="5px" />
       	    <control name="textfield" maxLength="255" width="560" id="filedialog_popup_filename" />
	        <panel height="*" />
	        <panel childLayout="horizontal" height="30px">
	        	<panel width="*" />
				<control id="filedialog_popup_apply" name="button" label="Apply" height="30px" width="80px" align="center">
					<interact onClick="applyFileDialogPopUp()" />
				</control>
				<panel width="*" />
				<control id="filedialog_popup_abort" name="button" label="Abort" height="30px" width="80px" align="center">
					<interact onClick="abortFileDialogPopUp()" />
				</control>
				<panel width="*" />
			</panel>
	        <panel height="5px" />
		</panel>
    </popup>
    <popup id="error_popup" childLayout="center" backgroundColor="#0000">
        <panel style="nifty-panel" childLayout="vertical" width="320px" height="200px" visibleToMouse="true">
	        <panel height="5px" />
       	    <text id="error_popup_caption" color="#ff0000" text="Error" font="aurulent-sans-16.fnt" height="30px" width="100%" textHAlign="center" />
	        <panel height="*" />
            <text id="error_popup_message" color="#000000" text="An error occurred" font="aurulent-sans-16.fnt" height="30px" width="100%" textHAlign="center" />
	        <panel height="*" />
	        <control id="error_popup_ok" name="button" label="Damn!" height="30px" width="80px" align="center">
				<interact onClick="closeErrorPopUp()" />
			</control>
	        <panel height="5px" />
        </panel>
    </popup>
</nifty>